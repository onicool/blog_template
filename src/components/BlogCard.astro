---
interface Props {
  title: string;
  description: string;
  pubDate: Date;
  updatedDate?: Date;
  tags: string[];
  url: string;
}

const { title, description, pubDate, updatedDate, tags, url } = Astro.props;

import '../styles/card.css';
---

<div class="block post-item">
  <a href={url} class="block cyber-card group">
    <article>
      <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-4">
        <h2 class="font-cyber text-lg md:text-xl text-cyber-primary group-hover:text-cyber-secondary transition-colors flex-grow truncate">
          {title}
        </h2>
        <div class="text-right whitespace-nowrap text-sm">
          <time class="text-gray-400 block">
            公開: {pubDate.toLocaleDateString('ja-JP')}
          </time>
          {updatedDate && (
            <time class="text-cyber-secondary block">
              更新: {updatedDate.toLocaleDateString('ja-JP')}
            </time>
          )}
        </div>
      </div>

      <p class="text-gray-300 mb-4 line-clamp-2 text-sm md:text-base">
        {description}
      </p>

      <div class="flex gap-2 flex-wrap">
        {tags.map(tag => (
          <span
            class="text-xs md:text-sm px-3 py-1 rounded-full bg-[rgba(0,255,196,0.1)] text-cyber-primary group-hover:bg-[rgba(0,255,196,0.15)] transition-all"
            data-post-tag={tag}
          >
            #{tag}
          </span>
        ))}
      </div>
    </article>
  </a>
</div>
